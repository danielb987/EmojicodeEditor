# Contribution
Contributions are welcome.

# Code contributions
If you want to add new features, please open an Issue there you describe the
feature you would like to add. That will allow us to discuss the desired change
before doing the work on the contribution.

### Javadoc
The documentation pages has [Javadoc for EmojicodeEditor](https://danielb987.github.io/EmojicodeEditor/javadoc/).

## Code checking
The EmojicodeEditor project uses Travis CI to run some tests and code validation
to ensure the quality of the code. These tests are:
- JUnit tests: Run the tests in the test packages.
- Jacoco: Checks how much of the code that is covered by tests.
- Checkstyle: Check the coding style.

[![Build Status](https://travis-ci.org/danielb987/EmojicodeEditor.svg?branch=master)](https://travis-ci.org/danielb987/EmojicodeEditor) [![Coverage Status](https://coveralls.io/repos/github/danielb987/EmojicodeEditor/badge.svg?branch=master)](https://coveralls.io/github/danielb987/EmojicodeEditor?branch=master)
[Checkstyle](https://danielb987.github.io/EmojicodeEditor/checkstyle/checkstyle_errors.xml) - [Checkstyle summary](https://danielb987.github.io/EmojicodeEditor/checkstyle/checkstyle_report.html)

## Compiler warnings
EmojicodeEditor uses the additional compiler options [-Xlint:all](http://marxsoftware.blogspot.se/2010/10/javacs-xlint-options.html) and -Werror. The compiler option -Werror results in that every warning is treated as an error. Therefore each warning must either be fixed or suppressed in order to compile the program. Suppressing a warning is not recommended.

### serialVersionUID
Some standard Java classes implements the [Serializable](https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html) interface which means that the class could be serialized. That also means that a class that inherits this class could also be serialized. And therefore any class that inherits a class that implement Serializable should declare a constant serialVersionUID.

The problem is that serialVersionUID should be changed every time the class signature is changed, for example if a new property is added. And it's very easy to forget this. Since there is no plan for EmojicodeEditor to be serialized in any way we have choosen another solution.

For every class that inherits another class that implements Serializable, two steps are taken and both are important.

* Suppress the warning by adding these two lines before the declaration of the class.
```
// This class may never be serialized. It throws an exception in writeObject.
@SuppressWarnings("serial")
```

* Override the method writeObject() and throw an exception.
That way, there is no way that the class is serialized by misstake.

```
/**
 * This class may not be serialized so throw an exception.
 * @param oos the object stream
 * @throws IOException this method always throws an IOException
 */
private void writeObject(ObjectOutputStream oos) throws IOException {
    throw new IOException("This class is NOT serializable.");
}
```

## Coding style
EmojicodeEditor uses [checkstyle](http://checkstyle.sourceforge.net/) to enforce
[Sun coding style](http://checkstyle.sourceforge.net/sun_style.html).

### Exceptions to the Sun coding standard
- Sun's coding standard requires no spaces at the end of the line. This project allows
lines with spaces only.
- Max line length is 100 characters for this project.

### Turning of checkstyle
In some rare cases, it's allowed to turn of a checkstyle rule in the code. An example
is the method isEmoji() in the class emojicode.compiler.EmojiTokenization which has a
lot of unicode codepoints and there it's no need for individual constants for all of
these. In these cases, a checkstyle rule can be turned off and on by a comment:
```
//CHECKSTYLE.OFF: MagicNumberCheck - No need for individual constants for
// all these values.
```
In this example, it's the rule MagicNumberCheck that is turned off. This possibility
should only be used on rare occasions and always with a comment describing why the rule
is turned off.

### Checkstyle and code generated by NetBeans
Some code that are generated and own by NetBeans cannot follow the Sun coding style.
NetBeans doesn't allow changes in some parts of some files. An example is classes that
inherits javax.swing.JFrame and there the NetBeans is used to design the frame, like the
class emojicodeeditor.MainWindow. In order to handle that, some rules must be turned off
to checkstyle.

For classes that extends JFrame and that are controlled by NetBeans, the following rules
apply. See the emojicodeeditor.MainWindow class for an example.

Add these lines at the top of the class:
```
//CHECKSTYLE.OFF: FinalParametersCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
//CHECKSTYLE.OFF: WhitespaceAroundCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
//CHECKSTYLE.OFF: LineLengthCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
```
Add these lines at the bottom of the class:
```
//CHECKSTYLE.ON: LineLengthCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
//CHECKSTYLE.ON: WhitespaceAroundCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
//CHECKSTYLE.ON: FinalParametersCheck - Several methods in this class is created by the
// NetBeans IDE and we cannot change them.
```
Add this line before the method initComponents()
```
//CHECKSTYLE.OFF: MagicNumberCheck - This method is generated by NetBeans and we cannot edit it.
```
Add this line after the method initComponents()
```
//CHECKSTYLE.ON: MagicNumberCheck - This method is generated by NetBeans and we cannot edit it.
```
